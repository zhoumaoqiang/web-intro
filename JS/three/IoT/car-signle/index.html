<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>全模型</title>
    <style>
    * {
        margin: 0;
        padding: 0;
    }
    html, body {
        width: 100%;
        height: 100%;
    }
    .wrapper {
        height: 100%;
        width: 100%;
        overflow: hidden;
    }
    .cars-info {
        position: absolute;
        width: 100%;
        height: 100%;
    }
    .info {
        position: absolute;
        width: 30%;
        height: 50%;
        border: 1px solid #000;
    }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="cars-info">
            <div class="prev info"></div>
            <div class="main info"></div>
            <div class="next info"></div>
        </div>
    </div>
    <script src="../../lib/three.js"></script>
    <script src="../../lib/ColladaLoader.js"></script>
    <script src="../../lib/inflate.min.js"></script>
    <script src="../../lib/FBXLoader.js"></script>
    <script src="../../lib/OrbitControl.js"></script>
    <script src="../../lib/stats.min.js"></script>
    <script src="main.js"></script>
    <!-- <script>
        var data = [{
            name: '广汽讴歌',
            model: '../models/fbx/xlr.FBX'
        }, {
            name: '领克',
            model: '../models/fbx/001.FBX'
        }, {
            name: '一汽丰田',
            model: '../models/dae/elf.dae'
        // }, {
        //     name: '更多的车',
        //     model: '../models/fbx/002.FBX'
        // }, {
        //     name: '更多的11',
        //     model: '../models/fbx/003.FBX'
        // }, {
        //     name: '更多的车22',
        //     model: '../models/fbx/004.FBX'
        }]
        var scene, camera, renderer

        // 三个物体呈圆形的布局，正前方与 X轴正向 的逆时针角度
        var radius = 30, DEFAULT_ANGLE = Math.PI / 4


        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
        renderer = new THREE.WebGLRenderer({
            antialias: true
        });
        renderer.setClearColor(0xeeeeee);
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        scene.add(camera);
        camera.position.x = -35 * 1;
        camera.position.y = 14 * 1;
        camera.position.z = 36 * 1;
        camera.rotation.x = -0.38;
        camera.rotation.y = -0.74;
        camera.rotation.z = -0.26;
        camera.lookAt(scene.position);

        // 使用orbitControl调整视角的 position 和 rotation
        // controls = new THREE.OrbitControls(camera, renderer.domElement);

        // 坐标轴
        let axes = new THREE.AxesHelper(50);
        scene.add(axes);

        // 光源
        let spotLight = new THREE.SpotLight(0xffffff);
        spotLight.position.set(100, 100, 1000);
        spotLight.castShadow = true;
        scene.add(spotLight);
        
        // 投射阴影的地面
        let ground = new THREE.Mesh(new THREE.PlaneGeometry( 100, 100, 32 ), new THREE.MeshBasicMaterial({color: 0xdddddd}))
        ground.receiveShadow = true;
        ground.rotation.x = -Math.PI / 2
        scene.add(ground)

        var circleHelper = new THREE.Mesh( new THREE.CircleGeometry( radius, 32 ), new THREE.MeshBasicMaterial( { color: 0xffff00 } ) );
        circleHelper.rotation.x = -Math.PI / 2
        scene.add( circleHelper );


        var cube_f = new THREE.Mesh(  new THREE.BoxGeometry( 1, 1, 1 ), new THREE.MeshBasicMaterial( {color: 0x00ff00} ) );
        var angle = ca()
        cube_f.position.set(angle.x, 0, angle.z)
        scene.add( cube_f );

        var cube_l = new THREE.Mesh(  new THREE.BoxGeometry( 1, 1, 1 ), new THREE.MeshBasicMaterial( {color: 0x00ff00} ) );
        var angle = ca( - 2 * Math.PI / 3)
        console.log(angle)
        cube_l.position.set(angle.x, 0, angle.z)
        scene.add( cube_l );

        var cube_r = new THREE.Mesh(  new THREE.BoxGeometry( 1, 1, 1 ), new THREE.MeshBasicMaterial( {color: 0x00ff00} ) );
        var angle = ca(2 * Math.PI / 3)
        cube_r.position.set(angle.x, 0, angle.z)
        scene.add( cube_r );


        document.querySelector('.wrapper').appendChild(renderer.domElement);




        // 帧率显示
        let stats = new Stats();
        stats.setMode(0);
        stats.domElement.style.position = 'absolute';
        stats.domElement.style.left = '0';
        stats.domElement.style.top = '0';
        document.querySelector('.wrapper').appendChild(stats.domElement);
        
        render()

        
        function render() {
            
            stats.update()
            renderer.render(scene, camera);
            requestAnimationFrame(render);
        }

        // 获取修正的角度 circle angle
        function ca(angle) {
            if(!angle) {
                angle = 0
            }
            return {
                x: -Math.cos(DEFAULT_ANGLE + angle) * radius,
                y: 0,
                z: Math.sin(DEFAULT_ANGLE + angle) * radius
            }
        }

    </script> -->
</body>
</html>